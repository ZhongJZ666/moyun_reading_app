{"ast":null,"code":"import { mapState, mapGetters } from 'vuex';\nimport ActivityFeed from '@/components/home/ActivityFeed.vue';\nimport RecommendedBooks from '@/components/home/RecommendedBooks.vue';\nimport UpcomingEvents from '@/components/home/UpcomingEvents.vue';\nexport default {\n  name: 'HomeView',\n  components: {\n    ActivityFeed,\n    RecommendedBooks,\n    UpcomingEvents\n  },\n  computed: {\n    ...mapState('auth', ['user']),\n    ...mapState('circles', ['circle']),\n    ...mapGetters('circles', ['studentsCount']),\n    hasCircle() {\n      return !!this.circle;\n    },\n    recentActivities() {\n      // 实际项目中应从API获取\n      return [{\n        id: 1,\n        type: 'post',\n        title: '《JavaScript高级程序设计》读后感',\n        author: '张三',\n        time: '2小时前'\n      }, {\n        id: 2,\n        type: 'comment',\n        content: '评论了您的帖子',\n        author: '李四',\n        time: '5小时前'\n      }];\n    }\n  },\n  async created() {\n    if (this.user?.role === 'mentor') {\n      await this.$store.dispatch('circles/fetchMyCircle');\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapGetters","ActivityFeed","RecommendedBooks","UpcomingEvents","name","components","computed","hasCircle","circle","recentActivities","id","type","title","author","time","content","created","user","role","$store","dispatch"],"sources":["E:\\moyun-reading-platform\\moyun-reading-platform\\frontend\\src\\views\\home\\Home.vue"],"sourcesContent":["<template>\r\n    <div class=\"home-container\">\r\n      <el-row :gutter=\"20\">\r\n        <!-- 左侧内容区 -->\r\n        <el-col :span=\"18\">\r\n          <el-card class=\"welcome-card\">\r\n            <h2>欢迎回来, {{ user.username }}!</h2>\r\n            <p v-if=\"user.role === 'student'\">您的导师: {{ user.mentor?.username || '暂未分配' }}</p>\r\n            <p v-else-if=\"user.role === 'mentor'\">您有 {{ studentsCount }} 名学生</p>\r\n            \r\n            <el-divider />\r\n            \r\n            <div class=\"quick-actions\">\r\n              <el-button \r\n                type=\"primary\" \r\n                icon=\"el-icon-notebook-2\"\r\n                @click=\"$router.push('/books')\"\r\n              >\r\n                浏览书库\r\n              </el-button>\r\n              <el-button \r\n                type=\"success\" \r\n                icon=\"el-icon-chat-line-round\"\r\n                @click=\"$router.push('/my-circle')\"\r\n                v-if=\"hasCircle\"\r\n              >\r\n                进入圈子\r\n              </el-button>\r\n              <el-button \r\n                type=\"warning\" \r\n                icon=\"el-icon-edit\"\r\n                @click=\"$router.push('/posts/create')\"\r\n              >\r\n                发表心得\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n  \r\n          <!-- 最近活动 -->\r\n          <activity-feed :activities=\"recentActivities\" />\r\n        </el-col>\r\n        \r\n        <!-- 右侧侧边栏 -->\r\n        <el-col :span=\"6\">\r\n          <recommended-books />\r\n          <upcoming-events />\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState, mapGetters } from 'vuex'\r\n  import ActivityFeed from '@/components/home/ActivityFeed.vue'\r\n  import RecommendedBooks from '@/components/home/RecommendedBooks.vue'\r\n  import UpcomingEvents from '@/components/home/UpcomingEvents.vue'\r\n  \r\n  export default {\r\n    name: 'HomeView',\r\n    components: {\r\n      ActivityFeed,\r\n      RecommendedBooks,\r\n      UpcomingEvents\r\n    },\r\n    computed: {\r\n      ...mapState('auth', ['user']),\r\n      ...mapState('circles', ['circle']),\r\n      ...mapGetters('circles', ['studentsCount']),\r\n      hasCircle() {\r\n        return !!this.circle\r\n      },\r\n      recentActivities() {\r\n        // 实际项目中应从API获取\r\n        return [\r\n          {\r\n            id: 1,\r\n            type: 'post',\r\n            title: '《JavaScript高级程序设计》读后感',\r\n            author: '张三',\r\n            time: '2小时前'\r\n          },\r\n          {\r\n            id: 2,\r\n            type: 'comment',\r\n            content: '评论了您的帖子',\r\n            author: '李四',\r\n            time: '5小时前'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    async created() {\r\n      if (this.user?.role === 'mentor') {\r\n        await this.$store.dispatch('circles/fetchMyCircle')\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .home-container {\r\n    padding: 20px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .welcome-card h2 {\r\n    margin-top: 0;\r\n    color: #333;\r\n  }\r\n  \r\n  .welcome-card p {\r\n    color: #666;\r\n    margin: 10px 0;\r\n  }\r\n  \r\n  .quick-actions {\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .quick-actions .el-button {\r\n    margin-right: 10px;\r\n  }\r\n  </style>"],"mappings":"AAoDE,SAASA,QAAQ,EAAEC,UAAS,QAAS,MAAK;AAC1C,OAAOC,YAAW,MAAO,oCAAmC;AAC5D,OAAOC,gBAAe,MAAO,wCAAuC;AACpE,OAAOC,cAAa,MAAO,sCAAqC;AAEhE,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVJ,YAAY;IACZC,gBAAgB;IAChBC;EACF,CAAC;EACDG,QAAQ,EAAE;IACR,GAAGP,QAAQ,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC;IAC7B,GAAGA,QAAQ,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC,CAAC;IAClC,GAAGC,UAAU,CAAC,SAAS,EAAE,CAAC,eAAe,CAAC,CAAC;IAC3CO,SAASA,CAAA,EAAG;MACV,OAAO,CAAC,CAAC,IAAI,CAACC,MAAK;IACrB,CAAC;IACDC,gBAAgBA,CAAA,EAAG;MACjB;MACA,OAAO,CACL;QACEC,EAAE,EAAE,CAAC;QACLC,IAAI,EAAE,MAAM;QACZC,KAAK,EAAE,uBAAuB;QAC9BC,MAAM,EAAE,IAAI;QACZC,IAAI,EAAE;MACR,CAAC,EACD;QACEJ,EAAE,EAAE,CAAC;QACLC,IAAI,EAAE,SAAS;QACfI,OAAO,EAAE,SAAS;QAClBF,MAAM,EAAE,IAAI;QACZC,IAAI,EAAE;MACR,EACF;IACF;EACF,CAAC;EACD,MAAME,OAAOA,CAAA,EAAG;IACd,IAAI,IAAI,CAACC,IAAI,EAAEC,IAAG,KAAM,QAAQ,EAAE;MAChC,MAAM,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,uBAAuB;IACpD;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { http } from './http';\nimport { getAuthHeader } from './utils';\nclass PostAPI {\n  // 创建帖子\n  static async create({\n    title,\n    content,\n    circleId,\n    bookId\n  }) {\n    try {\n      const response = await http.post('/posts', {\n        title,\n        content,\n        circle_id: circleId,\n        book_id: bookId\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  // 获取圈子帖子列表\n  static async getByCircle(circleId) {\n    try {\n      const response = await http.get(`/posts/circle/${circleId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  // 获取帖子详情\n  static async getDetail(postId) {\n    try {\n      const response = await http.get(`/posts/${postId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  // 获取某本书的相关帖子\n  static async getByBook(bookId) {\n    try {\n      const response = await http.get(`/posts/book/${bookId}`);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\nexport default PostAPI;","map":{"version":3,"names":["http","getAuthHeader","PostAPI","create","title","content","circleId","bookId","response","post","circle_id","book_id","data","error","getByCircle","get","getDetail","postId","getByBook"],"sources":["E:/moyun-reading-platform/moyun-reading-platform/frontend/src/api/posts.js"],"sourcesContent":["import { http } from './http'\r\nimport { getAuthHeader } from './utils';\r\n\r\nclass PostAPI {\r\n  // 创建帖子\r\n  static async create({ title, content, circleId, bookId }) {\r\n    try {\r\n      const response = await http.post(\r\n        '/posts',\r\n        { title, content, circle_id: circleId, book_id: bookId }\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // 获取圈子帖子列表\r\n  static async getByCircle(circleId) {\r\n    try {\r\n      const response = await http.get(`/posts/circle/${circleId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // 获取帖子详情\r\n  static async getDetail(postId) {\r\n    try {\r\n      const response = await http.get(`/posts/${postId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // 获取某本书的相关帖子\r\n  static async getByBook(bookId) {\r\n    try {\r\n      const response = await http.get(`/posts/book/${bookId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nexport default PostAPI;"],"mappings":"AAAA,SAASA,IAAI,QAAQ,QAAQ;AAC7B,SAASC,aAAa,QAAQ,SAAS;AAEvC,MAAMC,OAAO,CAAC;EACZ;EACA,aAAaC,MAAMA,CAAC;IAAEC,KAAK;IAAEC,OAAO;IAAEC,QAAQ;IAAEC;EAAO,CAAC,EAAE;IACxD,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMR,IAAI,CAACS,IAAI,CAC9B,QAAQ,EACR;QAAEL,KAAK;QAAEC,OAAO;QAAEK,SAAS,EAAEJ,QAAQ;QAAEK,OAAO,EAAEJ;MAAO,CACzD,CAAC;MACD,OAAOC,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,aAAaC,WAAWA,CAACR,QAAQ,EAAE;IACjC,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMR,IAAI,CAACe,GAAG,CAAC,iBAAiBT,QAAQ,EAAE,CAAC;MAC5D,OAAOE,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,aAAaG,SAASA,CAACC,MAAM,EAAE;IAC7B,IAAI;MACF,MAAMT,QAAQ,GAAG,MAAMR,IAAI,CAACe,GAAG,CAAC,UAAUE,MAAM,EAAE,CAAC;MACnD,OAAOT,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,aAAaK,SAASA,CAACX,MAAM,EAAE;IAC7B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMR,IAAI,CAACe,GAAG,CAAC,eAAeR,MAAM,EAAE,CAAC;MACxD,OAAOC,QAAQ,CAACI,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF;AACF;AAEA,eAAeX,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
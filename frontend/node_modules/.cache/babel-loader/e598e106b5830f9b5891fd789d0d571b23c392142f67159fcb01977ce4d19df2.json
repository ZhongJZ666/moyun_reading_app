{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"member-list\"\n};\nconst _hoisted_2 = {\n  class: \"card-header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_User = _resolveComponent(\"User\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_avatar = _resolveComponent(\"el-avatar\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, null, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"圈子成员\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n      type: \"primary\",\n      size: \"small\",\n      onClick: $options.handleInvite\n    }, {\n      default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"邀请成员\")])),\n      _: 1 /* STABLE */,\n      __: [0]\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $props.members,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"avatar\",\n        label: \"\",\n        width: \"50\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_avatar, {\n          size: 32,\n          src: row.avatar\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode(_component_User)]),\n            _: 1 /* STABLE */\n          })]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"src\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"username\",\n        label: \"用户名\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"role\",\n        label: \"角色\",\n        width: \"100\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tag, {\n          type: row.role === 'admin' ? 'danger' : 'info',\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(row.role === 'admin' ? '管理员' : '成员'), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"joinTime\",\n        label: \"加入时间\",\n        width: \"180\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"150\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [$options.canManage(row) ? (_openBlock(), _createBlock(_component_el_button, {\n          key: 0,\n          type: \"danger\",\n          size: \"small\",\n          onClick: $event => $options.handleRemove(row)\n        }, {\n          default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\" 移除 \")])),\n          _: 2 /* DYNAMIC */,\n          __: [2]\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_button","type","size","onClick","$options","handleInvite","default","_cache","_createTextVNode","_","__","_component_el_table","data","$props","members","style","_component_el_table_column","prop","label","width","row","_component_el_avatar","src","avatar","_component_el_icon","_component_User","_component_el_tag","role","_toDisplayString","canManage","_createBlock","key","$event","handleRemove","_createCommentVNode"],"sources":["E:\\moyun-reading-platform\\frontend\\src\\components\\circle\\MemberList.vue"],"sourcesContent":["<template>\r\n  <div class=\"member-list\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>圈子成员</span>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"handleInvite\">邀请成员</el-button>\r\n        </div>\r\n      </template>\r\n      <el-table :data=\"members\" style=\"width: 100%\">\r\n        <el-table-column prop=\"avatar\" label=\"\" width=\"50\">\r\n          <template #default=\"{ row }\">\r\n            <el-avatar :size=\"32\" :src=\"row.avatar\">\r\n              <el-icon><User /></el-icon>\r\n            </el-avatar>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"username\" label=\"用户名\" />\r\n        <el-table-column prop=\"role\" label=\"角色\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.role === 'admin' ? 'danger' : 'info'\" size=\"small\">\r\n              {{ row.role === 'admin' ? '管理员' : '成员' }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"joinTime\" label=\"加入时间\" width=\"180\" />\r\n        <el-table-column label=\"操作\" width=\"150\">\r\n          <template #default=\"{ row }\">\r\n            <el-button\r\n              v-if=\"canManage(row)\"\r\n              type=\"danger\"\r\n              size=\"small\"\r\n              @click=\"handleRemove(row)\"\r\n            >\r\n              移除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { User } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'MemberList',\r\n  components: {\r\n    User\r\n  },\r\n  props: {\r\n    members: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    currentUserRole: {\r\n      type: String,\r\n      default: 'member'\r\n    }\r\n  },\r\n  methods: {\r\n    canManage(member) {\r\n      return this.currentUserRole === 'admin' && member.role !== 'admin'\r\n    },\r\n    handleInvite() {\r\n      this.$emit('invite')\r\n    },\r\n    handleRemove(member) {\r\n      this.$confirm('确定要移除该成员吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$emit('remove', member)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.member-list {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n</style> "],"mappings":";;EACOA,KAAK,EAAC;AAAa;;EAGbA,KAAK,EAAC;AAAa;;;;;;;;;;uBAH9BC,mBAAA,CAuCM,OAvCNC,UAuCM,GAtCJC,YAAA,CAqCUC,kBAAA;IApCGC,MAAM,EAAAC,QAAA,CACf,MAGM,CAHNC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFJD,mBAAA,CAAiB,cAAX,MAAI,sBACVJ,YAAA,CAA6EM,oBAAA;MAAlEC,IAAI,EAAC,SAAS;MAACC,IAAI,EAAC,OAAO;MAAEC,OAAK,EAAEC,QAAA,CAAAC;;MANzDC,OAAA,EAAAT,QAAA,CAMuE,MAAIU,MAAA,QAAAA,MAAA,OAN3EC,gBAAA,CAMuE,MAAI,E;MAN3EC,CAAA;MAAAC,EAAA;;IAAAJ,OAAA,EAAAT,QAAA,CASM,MA6BW,CA7BXH,YAAA,CA6BWiB,mBAAA;MA7BAC,IAAI,EAAEC,MAAA,CAAAC,OAAO;MAAEC,KAAmB,EAAnB;QAAA;MAAA;;MAThCT,OAAA,EAAAT,QAAA,CAUQ,MAMkB,CANlBH,YAAA,CAMkBsB,0BAAA;QANDC,IAAI,EAAC,QAAQ;QAACC,KAAK,EAAC,EAAE;QAACC,KAAK,EAAC;;QACjCb,OAAO,EAAAT,QAAA,CAChB,CAEY;UAHQuB;QAAG,OACvB1B,YAAA,CAEY2B,oBAAA;UAFAnB,IAAI,EAAE,EAAE;UAAGoB,GAAG,EAAEF,GAAG,CAACG;;UAZ5CjB,OAAA,EAAAT,QAAA,CAac,MAA2B,CAA3BH,YAAA,CAA2B8B,kBAAA;YAbzClB,OAAA,EAAAT,QAAA,CAauB,MAAQ,CAARH,YAAA,CAAQ+B,eAAA,E;YAb/BhB,CAAA;;UAAAA,CAAA;;QAAAA,CAAA;UAiBQf,YAAA,CAA+CsB,0BAAA;QAA9BC,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC;UACvCxB,YAAA,CAMkBsB,0BAAA;QANDC,IAAI,EAAC,MAAM;QAACC,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;;QACjCb,OAAO,EAAAT,QAAA,CAChB,CAES;UAHWuB;QAAG,OACvB1B,YAAA,CAESgC,iBAAA;UAFAzB,IAAI,EAAEmB,GAAG,CAACO,IAAI;UAAkCzB,IAAI,EAAC;;UApB1EI,OAAA,EAAAT,QAAA,CAqBc,MAAyC,CArBvDW,gBAAA,CAAAoB,gBAAA,CAqBiBR,GAAG,CAACO,IAAI,4C;UArBzBlB,CAAA;;QAAAA,CAAA;UAyBQf,YAAA,CAA4DsB,0BAAA;QAA3CC,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC,MAAM;QAACC,KAAK,EAAC;UACpDzB,YAAA,CAWkBsB,0BAAA;QAXDE,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;;QACrBb,OAAO,EAAAT,QAAA,CAChB,CAOY;UARQuB;QAAG,OAEfhB,QAAA,CAAAyB,SAAS,CAACT,GAAG,K,cADrBU,YAAA,CAOY9B,oBAAA;UAnCxB+B,GAAA;UA8Bc9B,IAAI,EAAC,QAAQ;UACbC,IAAI,EAAC,OAAO;UACXC,OAAK,EAAA6B,MAAA,IAAE5B,QAAA,CAAA6B,YAAY,CAACb,GAAG;;UAhCtCd,OAAA,EAAAT,QAAA,CAiCa,MAEDU,MAAA,QAAAA,MAAA,OAnCZC,gBAAA,CAiCa,MAED,E;UAnCZC,CAAA;UAAAC,EAAA;4DAAAwB,mBAAA,e;QAAAzB,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
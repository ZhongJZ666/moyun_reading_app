{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"quick-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_activity_feed = _resolveComponent(\"activity-feed\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_recommended_books = _resolveComponent(\"recommended-books\");\n  const _component_upcoming_events = _resolveComponent(\"upcoming-events\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_row, {\n    gutter: 20\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 左侧内容区 \"), _createVNode(_component_el_col, {\n      span: 18\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"welcome-card\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"h2\", null, \"欢迎回来, \" + _toDisplayString(_ctx.user.username) + \"!\", 1 /* TEXT */), _ctx.user.role === 'student' ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"您的导师: \" + _toDisplayString(_ctx.user.mentor?.username || '暂未分配'), 1 /* TEXT */)) : _ctx.user.role === 'mentor' ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"您有 \" + _toDisplayString(_ctx.studentsCount) + \" 名学生\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_divider), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_button, {\n          type: \"primary\",\n          icon: \"el-icon-notebook-2\",\n          onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/books'))\n        }, {\n          default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\" 浏览书库 \")])),\n          _: 1 /* STABLE */,\n          __: [3]\n        }), $options.hasCircle ? (_openBlock(), _createBlock(_component_el_button, {\n          key: 0,\n          type: \"success\",\n          icon: \"el-icon-chat-line-round\",\n          onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.push('/my-circle'))\n        }, {\n          default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\" 进入圈子 \")])),\n          _: 1 /* STABLE */,\n          __: [4]\n        })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_button, {\n          type: \"warning\",\n          icon: \"el-icon-edit\",\n          onClick: _cache[2] || (_cache[2] = $event => _ctx.$router.push('/posts/create'))\n        }, {\n          default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\" 发表心得 \")])),\n          _: 1 /* STABLE */,\n          __: [5]\n        })])]),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 最近活动 \"), _createVNode(_component_activity_feed, {\n        activities: $options.recentActivities\n      }, null, 8 /* PROPS */, [\"activities\"])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 右侧侧边栏 \"), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_recommended_books), _createVNode(_component_upcoming_events)]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","default","_withCtx","_createCommentVNode","_component_el_col","span","_component_el_card","_createElementVNode","_toDisplayString","_ctx","user","username","role","_hoisted_2","mentor","_hoisted_3","studentsCount","_component_el_divider","_hoisted_4","_component_el_button","type","icon","onClick","_cache","$event","$router","push","_createTextVNode","_","__","$options","hasCircle","_createBlock","_component_activity_feed","activities","recentActivities","_component_recommended_books","_component_upcoming_events"],"sources":["E:\\moyun-reading-platform\\frontend\\src\\views\\home\\Home.vue"],"sourcesContent":["<template>\r\n    <div class=\"home-container\">\r\n      <el-row :gutter=\"20\">\r\n        <!-- 左侧内容区 -->\r\n        <el-col :span=\"18\">\r\n          <el-card class=\"welcome-card\">\r\n            <h2>欢迎回来, {{ user.username }}!</h2>\r\n            <p v-if=\"user.role === 'student'\">您的导师: {{ user.mentor?.username || '暂未分配' }}</p>\r\n            <p v-else-if=\"user.role === 'mentor'\">您有 {{ studentsCount }} 名学生</p>\r\n            \r\n            <el-divider />\r\n            \r\n            <div class=\"quick-actions\">\r\n              <el-button \r\n                type=\"primary\" \r\n                icon=\"el-icon-notebook-2\"\r\n                @click=\"$router.push('/books')\"\r\n              >\r\n                浏览书库\r\n              </el-button>\r\n              <el-button \r\n                type=\"success\" \r\n                icon=\"el-icon-chat-line-round\"\r\n                @click=\"$router.push('/my-circle')\"\r\n                v-if=\"hasCircle\"\r\n              >\r\n                进入圈子\r\n              </el-button>\r\n              <el-button \r\n                type=\"warning\" \r\n                icon=\"el-icon-edit\"\r\n                @click=\"$router.push('/posts/create')\"\r\n              >\r\n                发表心得\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n  \r\n          <!-- 最近活动 -->\r\n          <activity-feed :activities=\"recentActivities\" />\r\n        </el-col>\r\n        \r\n        <!-- 右侧侧边栏 -->\r\n        <el-col :span=\"6\">\r\n          <recommended-books />\r\n          <upcoming-events />\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState, mapGetters } from 'vuex'\r\n  import ActivityFeed from '@/components/home/ActivityFeed.vue'\r\n  import RecommendedBooks from '@/components/home/RecommendedBooks.vue'\r\n  import UpcomingEvents from '@/components/home/UpcomingEvents.vue'\r\n  \r\n  export default {\r\n    name: 'HomeView',\r\n    components: {\r\n      ActivityFeed,\r\n      RecommendedBooks,\r\n      UpcomingEvents\r\n    },\r\n    computed: {\r\n      ...mapState('auth', ['user']),\r\n      ...mapState('circles', ['circle']),\r\n      ...mapGetters('circles', ['studentsCount']),\r\n      hasCircle() {\r\n        return !!this.circle\r\n      },\r\n      recentActivities() {\r\n        // 实际项目中应从API获取\r\n        return [\r\n          {\r\n            id: 1,\r\n            type: 'post',\r\n            title: '《JavaScript高级程序设计》读后感',\r\n            author: '张三',\r\n            time: '2小时前'\r\n          },\r\n          {\r\n            id: 2,\r\n            type: 'comment',\r\n            content: '评论了您的帖子',\r\n            author: '李四',\r\n            time: '5小时前'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    async created() {\r\n      if (this.user?.role === 'mentor') {\r\n        await this.$store.dispatch('circles/fetchStudentsByMentorId')\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .home-container {\r\n    padding: 20px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .welcome-card h2 {\r\n    margin-top: 0;\r\n    color: #333;\r\n  }\r\n  \r\n  .welcome-card p {\r\n    color: #666;\r\n    margin: 10px 0;\r\n  }\r\n  \r\n  .quick-actions {\r\n    margin-top: 20px;\r\n  }\r\n  \r\n  .quick-actions .el-button {\r\n    margin-right: 10px;\r\n  }\r\n  </style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAgB;;EAD/BC,GAAA;AAAA;;EAAAA,GAAA;AAAA;;EAYiBD,KAAK,EAAC;AAAe;;;;;;;;;;uBAXlCE,mBAAA,CA+CM,OA/CNC,UA+CM,GA9CJC,YAAA,CA6CSC,iBAAA;IA7CAC,MAAM,EAAE;EAAE;IAFzBC,OAAA,EAAAC,QAAA,CAGQ,MAAc,CAAdC,mBAAA,WAAc,EACdL,YAAA,CAoCSM,iBAAA;MApCAC,IAAI,EAAE;IAAE;MAJzBJ,OAAA,EAAAC,QAAA,CAKU,MA+BU,CA/BVJ,YAAA,CA+BUQ,kBAAA;QA/BDZ,KAAK,EAAC;MAAc;QALvCO,OAAA,EAAAC,QAAA,CAMY,MAAmC,CAAnCK,mBAAA,CAAmC,YAA/B,QAAM,GAAAC,gBAAA,CAAGC,IAAA,CAAAC,IAAI,CAACC,QAAQ,IAAG,GAAC,iBACrBF,IAAA,CAAAC,IAAI,CAACE,IAAI,kB,cAAlBhB,mBAAA,CAAiF,KAP7FiB,UAAA,EAO8C,QAAM,GAAAL,gBAAA,CAAGC,IAAA,CAAAC,IAAI,CAACI,MAAM,EAAEH,QAAQ,8BAClDF,IAAA,CAAAC,IAAI,CAACE,IAAI,iB,cAAvBhB,mBAAA,CAAoE,KARhFmB,UAAA,EAQkD,KAAG,GAAAP,gBAAA,CAAGC,IAAA,CAAAO,aAAa,IAAG,MAAI,mBAR5Eb,mBAAA,gBAUYL,YAAA,CAAcmB,qBAAA,GAEdV,mBAAA,CAuBM,OAvBNW,UAuBM,GAtBJpB,YAAA,CAMYqB,oBAAA;UALVC,IAAI,EAAC,SAAS;UACdC,IAAI,EAAC,oBAAoB;UACxBC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEf,IAAA,CAAAgB,OAAO,CAACC,IAAI;;UAhBpCzB,OAAA,EAAAC,QAAA,CAiBe,MAEDqB,MAAA,QAAAA,MAAA,OAnBdI,gBAAA,CAiBe,QAED,E;UAnBdC,CAAA;UAAAC,EAAA;YAwBsBC,QAAA,CAAAC,SAAS,I,cAJjBC,YAAA,CAOYb,oBAAA;UA3B1BxB,GAAA;UAqBgByB,IAAI,EAAC,SAAS;UACdC,IAAI,EAAC,yBAAyB;UAC7BC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEf,IAAA,CAAAgB,OAAO,CAACC,IAAI;;UAvBpCzB,OAAA,EAAAC,QAAA,CAyBe,MAEDqB,MAAA,QAAAA,MAAA,OA3BdI,gBAAA,CAyBe,QAED,E;UA3BdC,CAAA;UAAAC,EAAA;cAAA1B,mBAAA,gBA4BcL,YAAA,CAMYqB,oBAAA;UALVC,IAAI,EAAC,SAAS;UACdC,IAAI,EAAC,cAAc;UAClBC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEf,IAAA,CAAAgB,OAAO,CAACC,IAAI;;UA/BpCzB,OAAA,EAAAC,QAAA,CAgCe,MAEDqB,MAAA,QAAAA,MAAA,OAlCdI,gBAAA,CAgCe,QAED,E;UAlCdC,CAAA;UAAAC,EAAA;;QAAAD,CAAA;UAsCUzB,mBAAA,UAAa,EACbL,YAAA,CAAgDmC,wBAAA;QAAhCC,UAAU,EAAEJ,QAAA,CAAAK;MAAgB,wC;MAvCtDP,CAAA;QA0CQzB,mBAAA,WAAc,EACdL,YAAA,CAGSM,iBAAA;MAHAC,IAAI,EAAE;IAAC;MA3CxBJ,OAAA,EAAAC,QAAA,CA4CU,MAAqB,CAArBJ,YAAA,CAAqBsC,4BAAA,GACrBtC,YAAA,CAAmBuC,0BAAA,E;MA7C7BT,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
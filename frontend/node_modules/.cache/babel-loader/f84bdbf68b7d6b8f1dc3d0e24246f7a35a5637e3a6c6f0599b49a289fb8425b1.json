{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport defaultCover from '@/assets/default-book-cover.jpg';\nexport default {\n  name: 'BookCard',\n  props: {\n    book: {\n      type: Object,\n      required: true\n    },\n    showRecommender: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      defaultCover\n    };\n  },\n  methods: {\n    goToDetail() {\n      if (this.book?.id) {\n        this.$router.push(`/books/${this.book.id}`);\n      }\n    },\n    truncate(text, length) {\n      if (!text) return '暂无描述';\n      return text.length > length ? text.substring(0, length) + '...' : text;\n    }\n  }\n};","map":{"version":3,"names":["defaultCover","name","props","book","type","Object","required","showRecommender","Boolean","default","data","methods","goToDetail","id","$router","push","truncate","text","length","substring"],"sources":["E:\\moyun-reading-platform\\moyun-reading-platform\\frontend\\src\\components\\BookCard.vue"],"sourcesContent":["<template>\r\n    <el-card class=\"book-card\" shadow=\"hover\" @click=\"goToDetail\">\r\n      <div class=\"cover-wrapper\">\r\n        <img :src=\"book?.cover_url || defaultCover\" :alt=\"book?.title || '书籍封面'\" class=\"cover\">\r\n        <div v-if=\"showRecommender && book?.recommender_name\" class=\"recommender\">\r\n          推荐人: {{ book.recommender_name }}\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"content\">\r\n        <h3 class=\"title\">{{ book?.title || '未知书名' }}</h3>\r\n        <p class=\"author\">{{ book?.author || '未知作者' }}</p>\r\n        <p class=\"desc\">{{ truncate(book?.description, 60) }}</p>\r\n      </div>\r\n    </el-card>\r\n  </template>\r\n  \r\n  <script>\r\n  import defaultCover from '@/assets/default-book-cover.jpg';\r\n  \r\n  export default {\r\n    name: 'BookCard',\r\n    props: {\r\n      book: {\r\n        type: Object,\r\n        required: true\r\n      },\r\n      showRecommender: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    data() {\r\n      return { defaultCover };\r\n    },\r\n    methods: {\r\n      goToDetail() {\r\n        if (this.book?.id) {\r\n          this.$router.push(`/books/${this.book.id}`);\r\n        }\r\n      },\r\n      truncate(text, length) {\r\n        if (!text) return '暂无描述';\r\n        return text.length > length \r\n          ? text.substring(0, length) + '...' \r\n          : text;\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .book-card {\r\n    width: 200px;\r\n    margin: 10px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .cover-wrapper {\r\n    position: relative;\r\n    height: 180px;\r\n  }\r\n  \r\n  .cover {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n  \r\n  .recommender {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    padding: 5px;\r\n    background: rgba(0, 0, 0, 0.6);\r\n    color: white;\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .content {\r\n    padding: 10px 0;\r\n  }\r\n  \r\n  .title {\r\n    margin: 0;\r\n    font-size: 16px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  \r\n  .author {\r\n    margin: 5px 0;\r\n    color: #666;\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .desc {\r\n    margin: 0;\r\n    color: #999;\r\n    font-size: 12px;\r\n    line-height: 1.5;\r\n  }\r\n  </style>"],"mappings":";AAkBE,OAAOA,YAAW,MAAO,iCAAiC;AAE1D,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,eAAe,EAAE;MACfH,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MAAEV;IAAa,CAAC;EACzB,CAAC;EACDW,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAI,IAAI,CAACT,IAAI,EAAEU,EAAE,EAAE;QACjB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,UAAU,IAAI,CAACZ,IAAI,CAACU,EAAE,EAAE,CAAC;MAC7C;IACF,CAAC;IACDG,QAAQA,CAACC,IAAI,EAAEC,MAAM,EAAE;MACrB,IAAI,CAACD,IAAI,EAAE,OAAO,MAAM;MACxB,OAAOA,IAAI,CAACC,MAAK,GAAIA,MAAK,GACtBD,IAAI,CAACE,SAAS,CAAC,CAAC,EAAED,MAAM,IAAI,KAAI,GAChCD,IAAI;IACV;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
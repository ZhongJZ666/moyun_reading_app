{"ast":null,"code":"import { mapState, mapActions } from 'vuex';\nimport PostCard from '@/components/PostCard.vue';\nimport CommentForm from '@/components/CommentForm.vue';\nimport CommentList from '@/components/CommentList.vue';\nexport default {\n  name: 'PostDetailView',\n  components: {\n    PostCard,\n    CommentForm,\n    CommentList\n  },\n  data() {\n    return {\n      postId: this.$route.params.id\n    };\n  },\n  computed: {\n    ...mapState('posts', ['post']),\n    ...mapState('comments', ['comments'])\n  },\n  async created() {\n    await Promise.all([this.fetchPostDetail(this.postId), this.fetchComments(this.postId)]);\n  },\n  methods: {\n    ...mapActions('posts', ['fetchPostDetail']),\n    ...mapActions('comments', ['fetchComments', 'addComment']),\n    handleCommentCreated(newComment) {\n      this.addComment(newComment);\n    }\n  }\n};","map":{"version":3,"names":["mapState","mapActions","PostCard","CommentForm","CommentList","name","components","data","postId","$route","params","id","computed","created","Promise","all","fetchPostDetail","fetchComments","methods","handleCommentCreated","newComment","addComment"],"sources":["E:\\moyun-reading-platform\\moyun-reading-platform\\frontend\\src\\views\\posts\\PostDetail.vue"],"sourcesContent":["<template>\r\n    <div class=\"post-detail-container\">\r\n      <el-button \r\n        icon=\"el-icon-arrow-left\" \r\n        @click=\"$router.go(-1)\"\r\n        class=\"back-btn\"\r\n      >\r\n        返回\r\n      </el-button>\r\n      \r\n      <post-card :post=\"post\" class=\"post-card\" />\r\n      \r\n      <div class=\"comment-section\">\r\n        <h3>评论 ({{ comments.length }})</h3>\r\n        <comment-form \r\n          :post-id=\"postId\"\r\n          @created=\"handleCommentCreated\"\r\n        />\r\n        <comment-list :comments=\"comments\" />\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState, mapActions } from 'vuex'\r\n  import PostCard from '@/components/PostCard.vue'\r\n  import CommentForm from '@/components/CommentForm.vue'\r\n  import CommentList from '@/components/CommentList.vue'\r\n  \r\n  export default {\r\n    name: 'PostDetailView',\r\n    components: {\r\n      PostCard,\r\n      CommentForm,\r\n      CommentList\r\n    },\r\n    data() {\r\n      return {\r\n        postId: this.$route.params.id\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState('posts', ['post']),\r\n      ...mapState('comments', ['comments'])\r\n    },\r\n    async created() {\r\n      await Promise.all([\r\n        this.fetchPostDetail(this.postId),\r\n        this.fetchComments(this.postId)\r\n      ])\r\n    },\r\n    methods: {\r\n      ...mapActions('posts', ['fetchPostDetail']),\r\n      ...mapActions('comments', ['fetchComments', 'addComment']),\r\n      handleCommentCreated(newComment) {\r\n        this.addComment(newComment)\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .post-detail-container {\r\n    padding: 20px;\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .back-btn {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .post-card {\r\n    margin-bottom: 30px;\r\n  }\r\n  \r\n  .comment-section {\r\n    margin-top: 40px;\r\n  }\r\n  </style>"],"mappings":"AAwBE,SAASA,QAAQ,EAAEC,UAAS,QAAS,MAAK;AAC1C,OAAOC,QAAO,MAAO,2BAA0B;AAC/C,OAAOC,WAAU,MAAO,8BAA6B;AACrD,OAAOC,WAAU,MAAO,8BAA6B;AAErD,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,UAAU,EAAE;IACVJ,QAAQ;IACRC,WAAW;IACXC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC;IAC7B;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGZ,QAAQ,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC;IAC9B,GAAGA,QAAQ,CAAC,UAAU,EAAE,CAAC,UAAU,CAAC;EACtC,CAAC;EACD,MAAMa,OAAOA,CAAA,EAAG;IACd,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChB,IAAI,CAACC,eAAe,CAAC,IAAI,CAACR,MAAM,CAAC,EACjC,IAAI,CAACS,aAAa,CAAC,IAAI,CAACT,MAAM,EAC/B;EACH,CAAC;EACDU,OAAO,EAAE;IACP,GAAGjB,UAAU,CAAC,OAAO,EAAE,CAAC,iBAAiB,CAAC,CAAC;IAC3C,GAAGA,UAAU,CAAC,UAAU,EAAE,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;IAC1DkB,oBAAoBA,CAACC,UAAU,EAAE;MAC/B,IAAI,CAACC,UAAU,CAACD,UAAU;IAC5B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cover-wrapper\"\n};\nconst _hoisted_2 = [\"src\", \"alt\"];\nconst _hoisted_3 = {\n  key: 0,\n  class: \"recommender\"\n};\nconst _hoisted_4 = {\n  class: \"content\"\n};\nconst _hoisted_5 = {\n  class: \"title\"\n};\nconst _hoisted_6 = {\n  class: \"author\"\n};\nconst _hoisted_7 = {\n  class: \"desc\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createBlock(_component_el_card, {\n    class: \"book-card\",\n    shadow: \"hover\",\n    onClick: $options.goToDetail\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"img\", {\n      src: $props.book?.cover_url || $data.defaultCover,\n      alt: $props.book?.title || '书籍封面',\n      class: \"cover\"\n    }, null, 8 /* PROPS */, _hoisted_2), $props.showRecommender && $props.book?.recommender_name ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \" 推荐人: \" + _toDisplayString($props.book.recommender_name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h3\", _hoisted_5, _toDisplayString($props.book?.title || '未知书名'), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($props.book?.author || '未知作者'), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($options.truncate($props.book?.description, 60)), 1 /* TEXT */)])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]);\n}","map":{"version":3,"names":["class","key","_createBlock","_component_el_card","shadow","onClick","$options","goToDetail","default","_withCtx","_createElementVNode","_hoisted_1","src","$props","book","cover_url","$data","defaultCover","alt","title","_hoisted_2","showRecommender","recommender_name","_createElementBlock","_hoisted_3","_toDisplayString","_createCommentVNode","_hoisted_4","_hoisted_5","_hoisted_6","author","_hoisted_7","truncate","description","_"],"sources":["E:\\moyun-reading-platform\\frontend\\src\\components\\BookCard.vue"],"sourcesContent":["<template>\r\n    <el-card class=\"book-card\" shadow=\"hover\" @click=\"goToDetail\">\r\n      <div class=\"cover-wrapper\">\r\n        <img :src=\"book?.cover_url || defaultCover\" :alt=\"book?.title || '书籍封面'\" class=\"cover\">\r\n        <div v-if=\"showRecommender && book?.recommender_name\" class=\"recommender\">\r\n          推荐人: {{ book.recommender_name }}\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"content\">\r\n        <h3 class=\"title\">{{ book?.title || '未知书名' }}</h3>\r\n        <p class=\"author\">{{ book?.author || '未知作者' }}</p>\r\n        <p class=\"desc\">{{ truncate(book?.description, 60) }}</p>\r\n      </div>\r\n    </el-card>\r\n  </template>\r\n  \r\n  <script>\r\n  import defaultCover from '@/assets/default-book-cover.jpg';\r\n  \r\n  export default {\r\n    name: 'BookCard',\r\n    props: {\r\n      book: {\r\n        type: Object,\r\n        required: true\r\n      },\r\n      showRecommender: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    data() {\r\n      return { defaultCover };\r\n    },\r\n    methods: {\r\n      goToDetail() {\r\n        if (this.book?.id) {\r\n          this.$router.push(`/books/${this.book.id}`);\r\n        }\r\n      },\r\n      truncate(text, length) {\r\n        if (!text) return '暂无描述';\r\n        return text.length > length \r\n          ? text.substring(0, length) + '...' \r\n          : text;\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .book-card {\r\n    width: 200px;\r\n    margin: 10px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .cover-wrapper {\r\n    position: relative;\r\n    height: 180px;\r\n  }\r\n  \r\n  .cover {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n  \r\n  .recommender {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    padding: 5px;\r\n    background: rgba(0, 0, 0, 0.6);\r\n    color: white;\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .content {\r\n    padding: 10px 0;\r\n  }\r\n  \r\n  .title {\r\n    margin: 0;\r\n    font-size: 16px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  \r\n  .author {\r\n    margin: 5px 0;\r\n    color: #666;\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .desc {\r\n    margin: 0;\r\n    color: #999;\r\n    font-size: 12px;\r\n    line-height: 1.5;\r\n  }\r\n  </style>"],"mappings":";;EAEWA,KAAK,EAAC;AAAe;mBAFhC;;EAAAC,GAAA;EAI8DD,KAAK,EAAC;;;EAKzDA,KAAK,EAAC;AAAS;;EACdA,KAAK,EAAC;AAAO;;EACdA,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAM;;;uBAXnBE,YAAA,CAaUC,kBAAA;IAbDH,KAAK,EAAC,WAAW;IAACI,MAAM,EAAC,OAAO;IAAEC,OAAK,EAAEC,QAAA,CAAAC;;IADtDC,OAAA,EAAAC,QAAA,CAEM,MAKM,CALNC,mBAAA,CAKM,OALNC,UAKM,GAJJD,mBAAA,CAAuF;MAAjFE,GAAG,EAAEC,MAAA,CAAAC,IAAI,EAAEC,SAAS,IAAIC,KAAA,CAAAC,YAAY;MAAGC,GAAG,EAAEL,MAAA,CAAAC,IAAI,EAAEK,KAAK;MAAYnB,KAAK,EAAC;4BAHvFoB,UAAA,GAImBP,MAAA,CAAAQ,eAAe,IAAIR,MAAA,CAAAC,IAAI,EAAEQ,gBAAgB,I,cAApDC,mBAAA,CAEM,OAFNC,UAEM,EAFoE,QACnE,GAAAC,gBAAA,CAAGZ,MAAA,CAAAC,IAAI,CAACQ,gBAAgB,oBALvCI,mBAAA,e,GASMhB,mBAAA,CAIM,OAJNiB,UAIM,GAHJjB,mBAAA,CAAkD,MAAlDkB,UAAkD,EAAAH,gBAAA,CAA7BZ,MAAA,CAAAC,IAAI,EAAEK,KAAK,4BAChCT,mBAAA,CAAkD,KAAlDmB,UAAkD,EAAAJ,gBAAA,CAA7BZ,MAAA,CAAAC,IAAI,EAAEgB,MAAM,4BACjCpB,mBAAA,CAAyD,KAAzDqB,UAAyD,EAAAN,gBAAA,CAAtCnB,QAAA,CAAA0B,QAAQ,CAACnB,MAAA,CAAAC,IAAI,EAAEmB,WAAW,sB;IAZrDC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
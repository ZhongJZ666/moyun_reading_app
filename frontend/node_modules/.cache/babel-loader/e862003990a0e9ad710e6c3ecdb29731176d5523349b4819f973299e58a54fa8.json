{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { ArrowLeft, ArrowRight } from '@element-plus/icons-vue';\nexport default {\n  name: 'CalendarWidget',\n  components: {\n    ArrowLeft,\n    ArrowRight\n  },\n  data() {\n    return {\n      weekDays: ['日', '一', '二', '三', '四', '五', '六'],\n      currentDate: new Date(),\n      events: []\n    };\n  },\n  computed: {\n    calendarDays() {\n      const year = this.currentDate.getFullYear();\n      const month = this.currentDate.getMonth();\n      const firstDay = new Date(year, month, 1);\n      const lastDay = new Date(year, month + 1, 0);\n      const days = [];\n\n      // 填充上个月的日期\n      const firstDayWeek = firstDay.getDay();\n      for (let i = firstDayWeek - 1; i >= 0; i--) {\n        const date = new Date(year, month, -i);\n        days.push({\n          date,\n          currentMonth: false,\n          isToday: this.isToday(date),\n          hasEvent: this.hasEvent(date)\n        });\n      }\n\n      // 填充当前月的日期\n      for (let i = 1; i <= lastDay.getDate(); i++) {\n        const date = new Date(year, month, i);\n        days.push({\n          date,\n          currentMonth: true,\n          isToday: this.isToday(date),\n          hasEvent: this.hasEvent(date)\n        });\n      }\n\n      // 填充下个月的日期\n      const remainingDays = 42 - days.length;\n      for (let i = 1; i <= remainingDays; i++) {\n        const date = new Date(year, month + 1, i);\n        days.push({\n          date,\n          currentMonth: false,\n          isToday: this.isToday(date),\n          hasEvent: this.hasEvent(date)\n        });\n      }\n      return days;\n    }\n  },\n  methods: {\n    isToday(date) {\n      const today = new Date();\n      return date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear();\n    },\n    hasEvent(date) {\n      return this.events.some(event => {\n        const eventDate = new Date(event.date);\n        return eventDate.getDate() === date.getDate() && eventDate.getMonth() === date.getMonth() && eventDate.getFullYear() === date.getFullYear();\n      });\n    },\n    handlePrevMonth() {\n      this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1, 1);\n    },\n    handleNextMonth() {\n      this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 1);\n    },\n    handleDayClick(day) {\n      this.$emit('day-click', day);\n    }\n  }\n};","map":{"version":3,"names":["ArrowLeft","ArrowRight","name","components","data","weekDays","currentDate","Date","events","computed","calendarDays","year","getFullYear","month","getMonth","firstDay","lastDay","days","firstDayWeek","getDay","i","date","push","currentMonth","isToday","hasEvent","getDate","remainingDays","length","methods","today","some","event","eventDate","handlePrevMonth","handleNextMonth","handleDayClick","day","$emit"],"sources":["E:\\moyun-reading-platform\\frontend\\src\\components\\home\\CalendarWidget.vue"],"sourcesContent":["<template>\r\n  <el-card class=\"calendar-widget\">\r\n    <template #header>\r\n      <div class=\"card-header\">\r\n        <span>日历</span>\r\n        <el-button-group>\r\n          <el-button size=\"small\" @click=\"handlePrevMonth\">\r\n            <el-icon><ArrowLeft /></el-icon>\r\n          </el-button>\r\n          <el-button size=\"small\" @click=\"handleNextMonth\">\r\n            <el-icon><ArrowRight /></el-icon>\r\n          </el-button>\r\n        </el-button-group>\r\n      </div>\r\n    </template>\r\n    <div class=\"calendar-content\">\r\n      <div class=\"calendar-header\">\r\n        <div v-for=\"day in weekDays\" :key=\"day\" class=\"week-day\">\r\n          {{ day }}\r\n        </div>\r\n      </div>\r\n      <div class=\"calendar-body\">\r\n        <div\r\n          v-for=\"(day, index) in calendarDays\"\r\n          :key=\"index\"\r\n          class=\"calendar-day\"\r\n          :class=\"{\r\n            'other-month': !day.currentMonth,\r\n            'today': day.isToday,\r\n            'has-event': day.hasEvent\r\n          }\"\r\n          @click=\"handleDayClick(day)\"\r\n        >\r\n          <span class=\"day-number\">{{ day.date.getDate() }}</span>\r\n          <div v-if=\"day.hasEvent\" class=\"event-dot\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { ArrowLeft, ArrowRight } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'CalendarWidget',\r\n  components: {\r\n    ArrowLeft,\r\n    ArrowRight\r\n  },\r\n  data() {\r\n    return {\r\n      weekDays: ['日', '一', '二', '三', '四', '五', '六'],\r\n      currentDate: new Date(),\r\n      events: []\r\n    }\r\n  },\r\n  computed: {\r\n    calendarDays() {\r\n      const year = this.currentDate.getFullYear()\r\n      const month = this.currentDate.getMonth()\r\n      const firstDay = new Date(year, month, 1)\r\n      const lastDay = new Date(year, month + 1, 0)\r\n      const days = []\r\n\r\n      // 填充上个月的日期\r\n      const firstDayWeek = firstDay.getDay()\r\n      for (let i = firstDayWeek - 1; i >= 0; i--) {\r\n        const date = new Date(year, month, -i)\r\n        days.push({\r\n          date,\r\n          currentMonth: false,\r\n          isToday: this.isToday(date),\r\n          hasEvent: this.hasEvent(date)\r\n        })\r\n      }\r\n\r\n      // 填充当前月的日期\r\n      for (let i = 1; i <= lastDay.getDate(); i++) {\r\n        const date = new Date(year, month, i)\r\n        days.push({\r\n          date,\r\n          currentMonth: true,\r\n          isToday: this.isToday(date),\r\n          hasEvent: this.hasEvent(date)\r\n        })\r\n      }\r\n\r\n      // 填充下个月的日期\r\n      const remainingDays = 42 - days.length\r\n      for (let i = 1; i <= remainingDays; i++) {\r\n        const date = new Date(year, month + 1, i)\r\n        days.push({\r\n          date,\r\n          currentMonth: false,\r\n          isToday: this.isToday(date),\r\n          hasEvent: this.hasEvent(date)\r\n        })\r\n      }\r\n\r\n      return days\r\n    }\r\n  },\r\n  methods: {\r\n    isToday(date) {\r\n      const today = new Date()\r\n      return (\r\n        date.getDate() === today.getDate() &&\r\n        date.getMonth() === today.getMonth() &&\r\n        date.getFullYear() === today.getFullYear()\r\n      )\r\n    },\r\n    hasEvent(date) {\r\n      return this.events.some(event => {\r\n        const eventDate = new Date(event.date)\r\n        return (\r\n          eventDate.getDate() === date.getDate() &&\r\n          eventDate.getMonth() === date.getMonth() &&\r\n          eventDate.getFullYear() === date.getFullYear()\r\n        )\r\n      })\r\n    },\r\n    handlePrevMonth() {\r\n      this.currentDate = new Date(\r\n        this.currentDate.getFullYear(),\r\n        this.currentDate.getMonth() - 1,\r\n        1\r\n      )\r\n    },\r\n    handleNextMonth() {\r\n      this.currentDate = new Date(\r\n        this.currentDate.getFullYear(),\r\n        this.currentDate.getMonth() + 1,\r\n        1\r\n      )\r\n    },\r\n    handleDayClick(day) {\r\n      this.$emit('day-click', day)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.calendar-widget {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.calendar-content {\r\n  padding: 10px 0;\r\n}\r\n\r\n.calendar-header {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.week-day {\r\n  font-weight: bold;\r\n  color: var(--text-color-secondary);\r\n}\r\n\r\n.calendar-body {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 5px;\r\n}\r\n\r\n.calendar-day {\r\n  aspect-ratio: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  padding: 5px;\r\n}\r\n\r\n.calendar-day:hover {\r\n  background-color: var(--background-color-light);\r\n}\r\n\r\n.other-month {\r\n  color: var(--text-color-secondary);\r\n}\r\n\r\n.today {\r\n  background-color: var(--primary-color-light);\r\n  color: var(--primary-color);\r\n}\r\n\r\n.has-event {\r\n  font-weight: bold;\r\n}\r\n\r\n.event-dot {\r\n  width: 6px;\r\n  height: 6px;\r\n  background-color: var(--primary-color);\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  bottom: 5px;\r\n}\r\n\r\n.day-number {\r\n  font-size: 14px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
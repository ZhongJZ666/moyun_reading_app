{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"book-detail-container\"\n};\nconst _hoisted_2 = {\n  class: \"book-cover\"\n};\nconst _hoisted_3 = [\"src\", \"alt\"];\nconst _hoisted_4 = {\n  class: \"book-info\"\n};\nconst _hoisted_5 = {\n  class: \"author\"\n};\nconst _hoisted_6 = {\n  class: \"recommender\"\n};\nconst _hoisted_7 = {\n  class: \"description\"\n};\nconst _hoisted_8 = {\n  class: \"actions\"\n};\nconst _hoisted_9 = {\n  class: \"related-posts\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_post_list = _resolveComponent(\"post-list\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_row, {\n    gutter: 20\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n        src: _ctx.book.cover_url || $data.defaultCover,\n        alt: _ctx.book.title\n      }, null, 8 /* PROPS */, _hoisted_3)])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 18\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h2\", null, _toDisplayString(_ctx.book.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_5, \"作者: \" + _toDisplayString(_ctx.book.author), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, \"推荐人: \" + _toDisplayString(_ctx.book.recommender_name), 1 /* TEXT */), _createVNode(_component_el_divider), _createElementVNode(\"div\", _hoisted_7, [_cache[1] || (_cache[1] = _createElementVNode(\"h3\", null, \"内容简介\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString(_ctx.book.description || '暂无简介'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: _cache[0] || (_cache[0] = $event => $options.goToCreatePost(_ctx.book.id))\n      }, {\n        default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\" 发表读后感 \")])),\n        _: 1 /* STABLE */,\n        __: [2]\n      })])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_divider), _createElementVNode(\"div\", _hoisted_9, [_cache[3] || (_cache[3] = _createElementVNode(\"h3\", null, \"相关读后感\", -1 /* HOISTED */)), _createVNode(_component_post_list, {\n    posts: _ctx.posts\n  }, null, 8 /* PROPS */, [\"posts\"])])])), [[_directive_loading, _ctx.loading]]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","gutter","default","_withCtx","_component_el_col","span","_createElementVNode","_hoisted_2","src","_ctx","book","cover_url","$data","defaultCover","alt","title","_hoisted_3","_","_hoisted_4","_toDisplayString","_hoisted_5","author","_hoisted_6","recommender_name","_component_el_divider","_hoisted_7","description","_hoisted_8","_component_el_button","type","onClick","_cache","$event","$options","goToCreatePost","id","_createTextVNode","__","_hoisted_9","_component_post_list","posts","loading"],"sources":["C:\\Users\\仲佳泽\\Desktop\\大学作业\\软件工程\\moyun-reading-platform\\frontend\\src\\views\\books\\BookDetail.vue"],"sourcesContent":["<template>\r\n    <div class=\"book-detail-container\" v-loading=\"loading\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\">\r\n          <div class=\"book-cover\">\r\n            <img :src=\"book.cover_url || defaultCover\" :alt=\"book.title\">\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"18\">\r\n          <div class=\"book-info\">\r\n            <h2>{{ book.title }}</h2>\r\n            <p class=\"author\">作者: {{ book.author }}</p>\r\n            <p class=\"recommender\">推荐人: {{ book.recommender_name }}</p>\r\n            \r\n            <el-divider />\r\n            \r\n            <div class=\"description\">\r\n              <h3>内容简介</h3>\r\n              <p>{{ book.description || '暂无简介' }}</p>\r\n            </div>\r\n            \r\n            <div class=\"actions\">\r\n              <el-button \r\n                type=\"primary\" \r\n                @click=\"goToCreatePost(book.id)\"\r\n              >\r\n                发表读后感\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      \r\n      <el-divider />\r\n      \r\n      <div class=\"related-posts\">\r\n        <h3>相关读后感</h3>\r\n        <post-list :posts=\"posts\" />\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState, mapActions } from 'vuex'\r\n  import PostList from '@/components/PostList.vue'\r\n  import defaultCover from '@/assets/default-book-cover.jpg'\r\n  \r\n  export default {\r\n    name: 'BookDetailView',\r\n    components: { PostList },\r\n    data() {\r\n      return {\r\n        defaultCover,\r\n        bookId: this.$route.params.id\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState('books', ['book', 'loading']),\r\n      ...mapState('posts', ['posts'])\r\n    },\r\n    async created() {\r\n      await Promise.all([\r\n        this.fetchBookDetail(this.bookId),\r\n        this.fetchRelatedPosts(this.bookId)\r\n      ])\r\n    },\r\n    methods: {\r\n      ...mapActions('books', ['fetchBookDetail']),\r\n      ...mapActions('posts', ['fetchRelatedPosts']),\r\n      goToCreatePost(bookId) {\r\n        this.$router.push({\r\n          path: '/posts/create',\r\n          query: { bookId }\r\n        })\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .book-detail-container {\r\n    padding: 20px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .book-cover img {\r\n    width: 100%;\r\n    max-height: 300px;\r\n    object-fit: cover;\r\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .book-info h2 {\r\n    margin-top: 0;\r\n  }\r\n  \r\n  .author, .recommender {\r\n    color: #666;\r\n    margin: 5px 0;\r\n  }\r\n  \r\n  .description {\r\n    margin: 20px 0;\r\n  }\r\n  \r\n  .actions {\r\n    margin-top: 30px;\r\n  }\r\n  \r\n  .related-posts {\r\n    margin-top: 40px;\r\n  }\r\n  </style>"],"mappings":";;EACSA,KAAK,EAAC;AAAuB;;EAGvBA,KAAK,EAAC;AAAY;mBAJjC;;EASeA,KAAK,EAAC;AAAW;;EAEjBA,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAa;;EAIjBA,KAAK,EAAC;AAAa;;EAKnBA,KAAK,EAAC;AAAS;;EAcrBA,KAAK,EAAC;AAAe;;;;;;;;wCAlC5BC,mBAAA,CAsCM,OAtCNC,UAsCM,GArCJC,YAAA,CA6BSC,iBAAA;IA7BAC,MAAM,EAAE;EAAE;IAFzBC,OAAA,EAAAC,QAAA,CAGQ,MAIS,CAJTJ,YAAA,CAISK,iBAAA;MAJAC,IAAI,EAAE;IAAC;MAHxBH,OAAA,EAAAC,QAAA,CAIU,MAEM,CAFNG,mBAAA,CAEM,OAFNC,UAEM,GADJD,mBAAA,CAA6D;QAAvDE,GAAG,EAAEC,IAAA,CAAAC,IAAI,CAACC,SAAS,IAAIC,KAAA,CAAAC,YAAY;QAAGC,GAAG,EAAEL,IAAA,CAAAC,IAAI,CAACK;8BALlEC,UAAA,E;MAAAC,CAAA;QAQQlB,YAAA,CAsBSK,iBAAA;MAtBAC,IAAI,EAAE;IAAE;MARzBH,OAAA,EAAAC,QAAA,CASU,MAoBM,CApBNG,mBAAA,CAoBM,OApBNY,UAoBM,GAnBJZ,mBAAA,CAAyB,YAAAa,gBAAA,CAAlBV,IAAA,CAAAC,IAAI,CAACK,KAAK,kBACjBT,mBAAA,CAA2C,KAA3Cc,UAA2C,EAAzB,MAAI,GAAAD,gBAAA,CAAGV,IAAA,CAAAC,IAAI,CAACW,MAAM,kBACpCf,mBAAA,CAA2D,KAA3DgB,UAA2D,EAApC,OAAK,GAAAH,gBAAA,CAAGV,IAAA,CAAAC,IAAI,CAACa,gBAAgB,kBAEpDxB,YAAA,CAAcyB,qBAAA,GAEdlB,mBAAA,CAGM,OAHNmB,UAGM,G,0BAFJnB,mBAAA,CAAa,YAAT,MAAI,sBACRA,mBAAA,CAAuC,WAAAa,gBAAA,CAAjCV,IAAA,CAAAC,IAAI,CAACgB,WAAW,2B,GAGxBpB,mBAAA,CAOM,OAPNqB,UAOM,GANJ5B,YAAA,CAKY6B,oBAAA;QAJVC,IAAI,EAAC,SAAS;QACbC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,cAAc,CAACzB,IAAA,CAAAC,IAAI,CAACyB,EAAE;;QAxB9CjC,OAAA,EAAAC,QAAA,CAyBe,MAED4B,MAAA,QAAAA,MAAA,OA3BdK,gBAAA,CAyBe,SAED,E;QA3BdnB,CAAA;QAAAoB,EAAA;;MAAApB,CAAA;;IAAAA,CAAA;MAiCMlB,YAAA,CAAcyB,qBAAA,GAEdlB,mBAAA,CAGM,OAHNgC,UAGM,G,0BAFJhC,mBAAA,CAAc,YAAV,OAAK,sBACTP,YAAA,CAA4BwC,oBAAA;IAAhBC,KAAK,EAAE/B,IAAA,CAAA+B;EAAK,mC,4BApCkB/B,IAAA,CAAAgC,OAAO,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
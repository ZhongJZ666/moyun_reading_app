{"ast":null,"code":"import axios from 'axios';\nimport { getAuthHeader } from './utils';\nconst API_URL = process.env.VUE_APP_API_BASE_URL + '/users';\nclass UserAPI {\n  // 获取用户资料\n  static async getProfile(userId) {\n    try {\n      const response = await axios.get(`${API_URL}/${userId}`, {\n        headers: getAuthHeader()\n      });\n      return response.data;\n    } catch (error) {\n      throw this._handleError(error);\n    }\n  }\n\n  // 更新资料\n  static async updateProfile(updates) {\n    try {\n      const response = await axios.put(`${API_URL}/me`, updates, {\n        headers: getAuthHeader()\n      });\n      return response.data;\n    } catch (error) {\n      throw this._handleError(error);\n    }\n  }\n\n  // 获取导师的学生列表\n  static async getStudents(mentorId) {\n    try {\n      const response = await axios.get(`${API_URL}/students`, {\n        params: {\n          mentor_id: mentorId\n        },\n        headers: getAuthHeader()\n      });\n      return response.data;\n    } catch (error) {\n      throw this._handleError(error);\n    }\n  }\n\n  // 管理员：获取所有用户\n  static async getAllUsers() {\n    try {\n      const response = await axios.get(API_URL, {\n        headers: getAuthHeader()\n      });\n      return response.data;\n    } catch (error) {\n      throw this._handleError(error);\n    }\n  }\n}\nexport default UserAPI;","map":{"version":3,"names":["axios","getAuthHeader","API_URL","process","env","VUE_APP_API_BASE_URL","UserAPI","getProfile","userId","response","get","headers","data","error","_handleError","updateProfile","updates","put","getStudents","mentorId","params","mentor_id","getAllUsers"],"sources":["E:/moyun-reading-platform/frontend/src/api/users.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getAuthHeader } from './utils';\r\n\r\nconst API_URL = process.env.VUE_APP_API_BASE_URL + '/users';\r\n\r\nclass UserAPI {\r\n  // 获取用户资料\r\n  static async getProfile(userId) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/${userId}`, {\r\n        headers: getAuthHeader()\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this._handleError(error);\r\n    }\r\n  }\r\n\r\n  // 更新资料\r\n  static async updateProfile(updates) {\r\n    try {\r\n      const response = await axios.put(`${API_URL}/me`, updates, {\r\n        headers: getAuthHeader()\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this._handleError(error);\r\n    }\r\n  }\r\n\r\n  // 获取导师的学生列表\r\n  static async getStudents(mentorId) {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/students`, {\r\n        params: { mentor_id: mentorId },\r\n        headers: getAuthHeader()\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this._handleError(error);\r\n    }\r\n  }\r\n\r\n  // 管理员：获取所有用户\r\n  static async getAllUsers() {\r\n    try {\r\n      const response = await axios.get(API_URL, {\r\n        headers: getAuthHeader()\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw this._handleError(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserAPI;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,SAAS;AAEvC,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,GAAG,QAAQ;AAE3D,MAAMC,OAAO,CAAC;EACZ;EACA,aAAaC,UAAUA,CAACC,MAAM,EAAE;IAC9B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGR,OAAO,IAAIM,MAAM,EAAE,EAAE;QACvDG,OAAO,EAAEV,aAAa,CAAC;MACzB,CAAC,CAAC;MACF,OAAOQ,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAI,CAACC,YAAY,CAACD,KAAK,CAAC;IAChC;EACF;;EAEA;EACA,aAAaE,aAAaA,CAACC,OAAO,EAAE;IAClC,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAMT,KAAK,CAACiB,GAAG,CAAC,GAAGf,OAAO,KAAK,EAAEc,OAAO,EAAE;QACzDL,OAAO,EAAEV,aAAa,CAAC;MACzB,CAAC,CAAC;MACF,OAAOQ,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAI,CAACC,YAAY,CAACD,KAAK,CAAC;IAChC;EACF;;EAEA;EACA,aAAaK,WAAWA,CAACC,QAAQ,EAAE;IACjC,IAAI;MACF,MAAMV,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGR,OAAO,WAAW,EAAE;QACtDkB,MAAM,EAAE;UAAEC,SAAS,EAAEF;QAAS,CAAC;QAC/BR,OAAO,EAAEV,aAAa,CAAC;MACzB,CAAC,CAAC;MACF,OAAOQ,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAI,CAACC,YAAY,CAACD,KAAK,CAAC;IAChC;EACF;;EAEA;EACA,aAAaS,WAAWA,CAAA,EAAG;IACzB,IAAI;MACF,MAAMb,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAACR,OAAO,EAAE;QACxCS,OAAO,EAAEV,aAAa,CAAC;MACzB,CAAC,CAAC;MACF,OAAOQ,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAM,IAAI,CAACC,YAAY,CAACD,KAAK,CAAC;IAChC;EACF;AACF;AAEA,eAAeP,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}